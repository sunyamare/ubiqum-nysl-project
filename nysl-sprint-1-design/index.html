<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <!--[if IE
            ]><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"
        /><![endif]-->
        <meta name="author" content="Thomas" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link
            rel="shortcut icon"
            type="image/png"
            href="img/favicon-16x16.png"
        />
        <link
            id="pageStyle"
            rel="stylesheet"
            type="text/css"
            href="css/style3.css"
        />
        <script src="js/jquery.min.js"></script>

        <!--load the correct content, set hash-->
        <script type="text/javascript">
            /* function to check if there's a hash in the url 
            function hasHash() {
                var url = window.location.hash;
                if (url) {
                    return true;
                }
                return false;
            }
            console.log(hasHash());*/

            /* function to get hash from url, otherwise return "home" as hash */
            function getHash() {
                var url = window.location.hash;
                var hash = url.substring(url.indexOf("#") + 1);
                if (hash === "") {
                    hash = "home";
                }
                return hash;
            }
            console.log(getHash());

            /* function to generate a class name from a hash */
            function generateClassName(hash) {
                var className = `.${hash}PageContents`;
                console.log(className);
                return className;
            }
            console.log(generateClassName(getHash()));

            /* function to generate a html page name from a hash */
            function generatePageName(hash) {
                var pageName = `${hash}PageContents.html`;
                console.log(pageName);
                return pageName;
            }
            console.log(generatePageName(getHash()));

            /* serve requested page (or home) */
            $(document).ready(function() {
                $(generateClassName(getHash())).load(
                    generatePageName(getHash())
                );
            });
        </script>

        <!--capitalize first letter of a string-->
        <script type="text/javascript">
            function capitalize(word) {
                if (typeof word !== "string") return "";
                return word.charAt(0).toUpperCase() + word.slice(1);
            }
            /* console.log(capitalize('flavio')) //'Flavio' */
        </script>

        <!--function to set the correct title on page load-->
        <title id="dynamicTitle"></title>
        <script type="text/javascript">
            window.onload = function setTitle() {
                var title = `NYSL ${capitalize(getHash())}`;
                document.getElementById("dynamicTitle").innerHTML = title;
            };
        </script>
    </head>
    <body>
        <header>
            <div class="pageTitle"><h1>Northside Youth Soccer League</h1></div>
            <a id="homeLink2" href="#Home">
                <div class="logo">
                    <img src="img/nysl_logo.png" alt="NYSL logo" />
                </div>
            </a>
        </header>

        <section id="mainContents" class="homePageContents"></section>

        <nav class="topnav">
            <ul>
                <li><a id="homeLink" href="#Home">Home</a></li>
                <li><a id="aboutLink" href="#About">About Us</a></li>
                <li><a id="contactLink" href="#Contact">Contact</a></li>
            </ul>
        </nav>

        <footer>
            <div class="css-switcher">
                <span>Choose a design:</span>
                <button id="design1">Design 1</button>
                <button id="design2">Design 2</button>
                <button id="design3">My Design</button>
            </div>
            <div class="site-notice">
                <span>
                    Site notice: This is a demo page! Contact:
                    <a
                        href="https://sunyamare.ch/"
                        alt="Link to the website owner's personal website"
                        >sunyamare.ch</a
                    >
                </span>
            </div>
        </footer>

        <!--CSS switch buttons-->
        <script type="text/javascript">
            document.getElementById("design1").onclick = function() {
                document.getElementById("pageStyle").href = "css/style1.css";
            };
            document.getElementById("design2").onclick = function() {
                document.getElementById("pageStyle").href = "css/style2.css";
            };
            document.getElementById("design3").onclick = function() {
                document.getElementById("pageStyle").href = "css/style3.css";
            };
        </script>

        <!--jQuery menu-->
        <script type="text/javascript">
            function replaceTitle(newTitle) {
                var title = `NYSL ${newTitle}`;
                document.getElementById("dynamicTitle").innerHTML = title;
            }
            $("#homeLink").click(function() {
                $("#mainContents").removeClass();
                $("#mainContents").addClass("homePageContents");
                $("#aboutLink").removeClass();
                $("#contactLink").removeClass();
                $("#homeLink").addClass("active");
                $(document).ready(function() {
                    $(".homePageContents").load("homePageContents.html");
                });
                replaceTitle(getHash());
            });
            $("#homeLink2").click(function() {
                $("#mainContents").removeClass();
                $("#mainContents").addClass("homePageContents");
                $("#aboutLink").removeClass();
                $("#contactLink").removeClass();
                $("#homeLink").addClass("active");
                $(document).ready(function() {
                    $(".homePageContents").load("homePageContents.html");
                });
                replaceTitle(getHash());
            });
            $("#aboutLink").click(function() {
                $("#mainContents").removeClass();
                $("#mainContents").addClass("aboutPageContents");
                $("#homeLink").removeClass();
                $("#contactLink").removeClass();
                $("#aboutLink").addClass("active");
                $(document).ready(function() {
                    $(".aboutPageContents").load("aboutPageContents.html");
                });
                replaceTitle(getHash());
            });
            $("#contactLink").click(function() {
                $("#mainContents").removeClass();
                $("#mainContents").addClass("contactPageContents");
                $("#homeLink").removeClass();
                $("#aboutLink").removeClass();
                $("#contactLink").addClass("active");
                $(document).ready(function() {
                    $(".contactPageContents").load("contactPageContents.html");
                });
                replaceTitle(getHash());
            });
        </script>
    </body>
</html>
